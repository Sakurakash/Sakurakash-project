"use strict";(self["webpackChunkmusic163_vue"]=self["webpackChunkmusic163_vue"]||[]).push([[650],{2650:function(s,t,e){e.r(t),e.d(t,{default:function(){return u}});var i=function(){var s=this,t=s._self._c;return t("div",{staticClass:"search"},[t("div",{staticClass:"search-box"},[t("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==",alt:""}}),t("input",{directives:[{name:"model",rawName:"v-model",value:s.keywords,expression:"keywords"},{name:"throttle",rawName:"v-throttle",value:s.search,expression:"search"}],attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:s.keywords},on:{input:function(t){t.target.composing||(s.keywords=t.target.value)}}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:""!==s.keywords,expression:"keywords !== ''"}],staticClass:"search-suggest"},[t("ScrollView",[t("ul",s._l(s.songs,(function({artists:e,id:i,name:M}){return t("li",{key:i,on:{click:function(t){return t.stopPropagation(),s.selectMusic(i)}}},[t("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==",alt:""}}),t("p",[s._v(s._s(M)+" - "+s._s(e[0].name))])])})),0)])],1),t("div",{staticClass:"search-hot"},[t("h3",[s._v("热门搜索")]),t("ul",s._l(s.hots,(function(e){return t("li",{key:e.first,on:{click:function(t){return t.stopPropagation(),s.selectedHot(e.first)}}},[s._v(s._s(e.first))])})),0)]),t("ul",{staticClass:"search-history"},s._l(s.searchHistory,(function(e){return t("li",{key:e},[t("div",{staticClass:"history-left"},[t("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMCAzMCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljYWNhIiBkPSJNMTUgMzBDNi43MTYgMzAgMCAyMy4yODQgMCAxNVM2LjcxNiAwIDE1IDBzMTUgNi43MTYgMTUgMTUtNi43MTYgMTUtMTUgMTVtMC0yOEM3LjgyIDIgMiA3LjgyIDIgMTVzNS44MiAxMyAxMyAxMyAxMy01LjgyIDEzLTEzUzIyLjE4IDIgMTUgMm03IDE2aC04YTEgMSAwIDAgMS0xLTFWN2ExIDEgMCAxIDEgMiAwdjloN2ExIDEgMCAxIDEgMCAyIi8+PC9zdmc+",alt:""}}),t("p",[s._v(s._s(e))])]),t("div",{staticClass:"history-right"},[t("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjOTk5ODk5IiBkPSJNMTMuMzc5IDEybDEwLjMzOCAxMC4zMzdhLjk3NS45NzUgMCAxIDEtMS4zNzggMS4zNzlMMTIuMDAxIDEzLjM3OCAxLjY2MyAyMy43MTZhLjk3NC45NzQgMCAxIDEtMS4zNzgtMS4zNzlMMTAuNjIzIDEyIC4yODUgMS42NjJBLjk3NC45NzQgMCAxIDEgMS42NjMuMjg0bDEwLjMzOCAxMC4zMzhMMjIuMzM5LjI4NGEuOTc0Ljk3NCAwIDEgMSAxLjM3OCAxLjM3OEwxMy4zNzkgMTIiLz48L3N2Zz4=",alt:""},on:{click:function(t){return t.stopPropagation(),s.delHistory(e)}}})])])})),0)])},M=[],r=(e(7658),e(8737)),c=e(3822),g=e(8181),a=e(5380),o={name:"search",components:{ScrollView:r.Z},data(){return{keywords:"",songs:[],hots:[],searchHistory:[]}},methods:{...(0,c.nv)(["setFullScreen","setSongsDetail"]),search(){""!==this.keywords&&(0,g.eO)({keywords:this.keywords}).then((s=>{this.songs=s.result.songs})).catch((s=>{console.log(s)}))},selectMusic(s){this.setFullScreen(!0),this.setSongsDetail([s]),this.searchHistory.includes(this.keywords)||(this.searchHistory.push(this.keywords),(0,a.qQ)("searchHistory",this.searchHistory),this.keywords="")},selectedHot(s){this.keywords=s,this.search()},delHistory(s){this.searchHistory=this.searchHistory.filter((function(t){return t!==s})),(0,a.qQ)("searchHistory",this.searchHistory)}},directives:{throttle:{inserted:function(s,t){let e=null,i=!0;s.addEventListener("input",(function(){i&&(i=!1,e&&clearTimeout(e),e=setTimeout((function(){i=!0,t.value()}),1e3))}))}}},created(){(0,g.sM)().then((s=>{this.hots=s.result.hots})).catch((s=>{console.log(s)})),void 0!==(0,a.$o)("searchHistory")&&null!==(0,a.$o)("searchHistory")&&(this.searchHistory=(0,a.$o)("searchHistory"))}},l=o,y=e(1001),n=(0,y.Z)(l,i,M,!1,null,"39902b20",null),u=n.exports}}]);
//# sourceMappingURL=650.e20ac162.js.map