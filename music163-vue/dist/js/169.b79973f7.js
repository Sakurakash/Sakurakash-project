"use strict";(self["webpackChunkmusic163_vue"]=self["webpackChunkmusic163_vue"]||[]).push([[169],{933:function(e,t,s){s.d(t,{Z:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"song-list"},[e._l(e.songs,(function({id:s,name:n,picUrl:i,singer:r}){return t("li",{key:s,staticClass:"item",on:{click:function(t){return e.selectMusic(s)}}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i,expression:"picUrl"}],attrs:{alt:""}}),t("div",[t("h3",[e._v(e._s(n))]),t("p",[e._v(e._s(r))])])])})),t("li",{staticClass:"box"})],2)},i=[],r=s(3822),a={name:"SongListItem",props:{songs:{type:Array,default:()=>[],required:!0}},methods:{...(0,r.nv)(["setFullScreen","setMiniPlayer","setSongsDetail"]),selectMusic(e){this.setFullScreen(!0),this.setMiniPlayer(!1),this.setSongsDetail([e])}},computed:{...(0,r.Se)(["isShowMiniPlayer"])},watch:{isShowMiniPlayer(e){const t=document.querySelector(".song-list>.box");e?t.classList.add("active"):t.classList.remove("active")}}},l=a,o=s(1001),c=(0,o.Z)(l,n,i,!1,null,"0642a0a0",null),u=c.exports},5169:function(e,t,s){s.r(t),s.d(t,{default:function(){return O}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"recommend"},[t("ScrollView",{ref:"scrollView"},[t("div",[t("banner",{attrs:{banners:e.banners}}),t("Personalized",{attrs:{personalized:e.personalized,title:"推荐歌单",type:"personalized"},on:{select:e.fatherSelectItem}}),t("Personalized",{attrs:{personalized:e.albums,title:"最新专辑",type:"album"},on:{select:e.fatherSelectItem}}),t("SongList",{attrs:{songs:e.songs}})],1)]),t("transition",[t("router-view")],1)],1)},i=[],r=(s(7658),s(8181)),a=function(){var e=this,t=e._self._c;return t("swiper",{staticClass:"banner",attrs:{options:e.swiperOption}},[e._l(e.banners,(function({bannerId:e,pic:s,url:n}){return t("swiper-slide",{key:e,staticClass:"item"},[t("a",{attrs:{href:n}},[t("img",{attrs:{src:s}})])])})),t("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},l=[],o=s(551),c={name:"Banner",data(){return{swiperOption:{speed:600,loop:!0,autoplay:{delay:2500,stopOnLastSlide:!1,disableOnInteraction:!1},pagination:{el:".swiper-pagination"},observer:!0,observeParents:!0,observeSlideChildren:!0}}},props:{banners:{type:Array,default:()=>[],required:!0}},components:{Swiper:o.Swiper,SwiperSlide:o.SwiperSlide},directives:{swiper:o.directive}},u=c,p=s(1001),d=(0,p.Z)(u,a,l,!1,null,"08f2183f",null),m=d.exports,h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"personalized"},[t("div",{staticClass:"personalized-top"},[t("h3",[e._v(e._s(e.title))])]),t("div",{staticClass:"personalized-list"},e._l(e.personalized,(function({id:s,name:n,picUrl:i}){return t("div",{key:s,staticClass:"item",on:{click:function(t){return e.selectItem(s)}}},[t("img",{attrs:{src:i,alt:""}}),t("p",[e._v(e._s(n))])])})),0)])},f=[],g={name:"Personalized",props:{personalized:{type:Array,default:()=>[],required:!0},title:{type:String,default:"",required:!0},type:{type:String,default:"",required:!0}},methods:{selectItem(e){this.$emit("select",e,this.type)}}},v=g,S=(0,p.Z)(v,h,f,!1,null,"51b3e8c4",null),_=S.exports,y=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"song"},[e._m(0),t(s.SongListItem,{attrs:{songs:e.songs}})],1)},b=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"song-top"},[t("h3",[e._v("最新音乐")])])}],w=s(933);const z={name:"SongList",props:{songs:{type:Array,default:()=>[],required:!0}},components:{SongListItem:w.Z}};var C=Object.assign(z,{setup(e){return{__sfc:!0,SongListItem:w.Z}}}),P=C,I=(0,p.Z)(P,y,b,!1,null,"1e506788",null),x=I.exports,L=s(8737),k=s(3822),Z={name:"recommend",components:{Banner:m,Personalized:_,SongList:x,ScrollView:L.Z},methods:{fatherSelectItem(e,t){this.$router.push({path:`recommend/detail/${e}/${t}`})}},computed:{...(0,k.Se)(["isShowMiniPlayer"])},watch:{isShowMiniPlayer(){this.$refs.scrollView.refresh()}},data(){return{banners:[],personalized:[],albums:[],songs:[]}},created(){(0,r.Eg)().then((e=>{this.banners=e.banners})).catch((function(e){console.log(e)})),(0,r.Fs)().then((e=>{this.personalized=e.result})).catch((function(e){console.log(e)})),(0,r.Q5)().then((e=>{this.albums=e.albums.splice(0,6)})).catch((function(e){console.log(e)})),(0,r.S_)().then((e=>{const t=[];e.result.forEach((({id:e,name:s,song:n})=>{const i={};i.id=e,i.name=s,i.picUrl=n.album.picUrl;let r="";for(let t=0;t<n.artists.length;t++)0===t?r=n.artists[t].name:r+="-"+n.artists[t].name;i.singer=r,t.push(i)})),this.songs=t})).catch((function(e){console.log(e)}))}},M=Z,q=(0,p.Z)(M,n,i,!1,null,"7b41df10",null),O=q.exports}}]);
//# sourceMappingURL=169.b79973f7.js.map